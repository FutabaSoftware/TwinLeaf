# rules_v010
バージョン: v010 / 最終更新日: 2025-08-31

## 目的
プログラミング初心者が、**最小の手動で最大の成果**を得るために、ChatGPT と自動化を活用して効率よく高品質な成果物を作る。

## 基本原則
- **結論 → 根拠 → 次の手** で簡潔に回答
- 指示が曖昧でも **合理的に推測** し、**最小限の質問**
- まず **MVP**（動く最小）を出し、**改善ループ**で磨く
- 公開想定：**機密情報は含めない**

## 依頼の出し方（推奨）
- 目的／読者／制約（文字数・形式・期日）／参考資料を簡潔に
- 不足があっても **仮置き**。Yes/No で潰せる質問だけ返す

## 出力ルール
- 納品は **コピペ可能な Markdown**（文書／表／コード／コマンド）
- Windows 前提：**PowerShell優先**、必要に応じてbash併記
- 破壊的操作（削除・上書き・公開）は **実行前に明示** して同意

## 命名・フォルダ（公開資料向け）
- 形式：`YYYYMMDD-shortname-purpose-v001.md`
- 標準ディレクトリ：`docs/` `assets/` `scripts/` `drafts/`

## サンプル依頼
> 目的：◯◯ガイドを 1500 文字で
> 納品：docs/ に本文 v001・画像パス・作成コマンド

## ライセンス / クレジット
- 任意：CC BY 4.0 または CC BY-NC 4.0
- 寄付リンク：Buy Me a Coffee（任意）

## 実行方法
- **基本**：処理本体は Python（`scripts\update_rules.py`）、PowerShell は薄ラッパ（`scripts\Update-Rules.ps1`）
- **ショートカット運用**：デスクトップからダブルクリックで実行可
- **Enter 待ち制御**：`isatty()` により対話時のみ待機、自動実行では待たない
- **依存追加**：`requirements.txt` → `scripts\setup_env.py` で整備
- **ログ**：`project-root\logs\` に PS Transcript / 更新ログを出力
- **安全書き込み**：一時ファイル→置換の atomic write
- **多重起動防止**：ロックファイルで抑止
- **乾燥実行**：`--diff-only` で差分だけ確認


## 思想（v004 以降の常設）
- **作らない勇気**：要件を削り、最小の道具で最速に価値を出す
- **舗装路（Paved Road）**：推奨の手順・テンプレ・実行器で学習コスト＆ミス最小化
- **BML（Build–Measure–Learn）**：小さく作り、測り、学んで次へ
- **恒久対策テンプレ**
  - 事象：
  - 原因：
  - 恒久策：
  - 再発防止チェック：


## 今回の変更（v010）
v009: 差分プレビュー導入

### 詳細
atomic/lock/diff/rollback

## 変更履歴（概要）
- v010（2025-08-31）: v009: 差分プレビュー導入

